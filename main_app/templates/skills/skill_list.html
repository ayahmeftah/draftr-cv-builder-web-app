{% extends 'base.html' %}

{% block head %}

{% endblock %}

{% block body %}
  <h2>Skills</h2>

  <a href="{% url 'skill_category_add' resume.id %}">+ Add Skill Category</a>

  {% if categories %}
    <ul>
      {% for category in categories %}
        <li>
          <strong>{{ category.skill_category_title }}</strong>
          <form method="post" action="{% url 'skill_category_delete' resume.id category.id %}">
            {% csrf_token %}
            <button type="submit">Delete</button>
          </form>
          <a href="{% url 'skill_add' resume.id category.id %}">+ Add Skill</a>
          <ul>
            {% for skill in category.skills.all %}
              <li>
                {{ skill.skill_name }} - {{ skill.level }}
                <a href="{% url 'skill_edit' resume.id skill.id %}">Edit</a>
                <form method="post" action="{% url 'skill_delete' resume.id skill.id %}">
                  {% csrf_token %}
                  <button type="submit">Delete</button>
                </form>
              </li>
            {% empty %}
              <li>No skills yet.</li>
            {% endfor %}
          </ul>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No skill categories added yet</p>
  {% endif %}

  <div>
    <a href="{% url 'experience_list' resume.id %}">Back</a>
    <a href="{% url 'resume_preview' resume.id %}">Next</a>
  </div>
{% endblock %}
